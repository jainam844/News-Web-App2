{"ast":null,"code":"import _regeneratorRuntime from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/REACT COURSE/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./Spinner\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.handlePrevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Previous\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=\").concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parsedData=_context.sent;console.log(parsedData);_this.setState({page:_this.state.page-1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"Next\");if(_this.state.page+1>Math.ceil(_this.state.totalResults/_this.props.pageSize)){_context2.next=11;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=\").concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=6;return fetch(url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parsedData=_context2.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],loading:false,page:1};document.title=\"\".concat(_this.capitalizeFirstLetter(_this.props.category),\"-NewsMonkey\");return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=1&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{margin:\"35px 0px\",marginTop:\"90px\"},children:[\"NewsMonkey - Top Headlines on\",\" \",this.capitalizeFirstLetter(this.props.category),\" category\"]}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark\",onClick:this.handlePrevClick,children:[\" \",\"\\u2190 Previous\"]}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:\"in\",pageSize:8,category:\"general\"};export default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handlePrevClick","console","log","url","country","category","state","page","pageSize","setState","loading","fetch","data","json","parsedData","articles","handleNextClick","Math","ceil","totalResults","document","title","margin","marginTop","map","element","description","urlToImage","author","publishedAt","source","name","defaultProps"],"sources":["D:/REACT COURSE/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport Spinner from \"./Spinner\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class News extends Component {\r\n  static defaultProps = {\r\n    country: \"in\",\r\n    pageSize: 8,\r\n    category: \"general\",\r\n  };\r\n\r\n  static propTypes = {\r\n    country: PropTypes.string,\r\n    pageSize: PropTypes.number,\r\n    category: PropTypes.string,\r\n  };\r\n  capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      articles: [],\r\n      loading: false,\r\n      page: 1,\r\n    };\r\n    document.title = `${this.capitalizeFirstLetter(\r\n      this.props.category\r\n    )}-NewsMonkey`;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=1&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    console.log(parsedData);\r\n    this.setState({\r\n      articles: parsedData.articles,\r\n      totalResults: parsedData.totalResults,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  handlePrevClick = async () => {\r\n    console.log(\"Previous\");\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country\r\n      }&category=${this.props.category\r\n      }&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=${this.state.page - 1\r\n      }&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    console.log(parsedData);\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: parsedData.articles,\r\n      loading: false,\r\n    });\r\n  };\r\n\r\n  handleNextClick = async () => {\r\n    console.log(\"Next\");\r\n    if (\r\n      !(\r\n        this.state.page + 1 >\r\n        Math.ceil(this.state.totalResults / this.props.pageSize)\r\n      )\r\n    ) {\r\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country\r\n        }&category=${this.props.category\r\n        }&apiKey=b1fc155ad9fd413183b57d759c0c3daa&page=${this.state.page + 1\r\n        }&pageSize=${this.props.pageSize}`;\r\n      this.setState({ loading: true });\r\n      let data = await fetch(url);\r\n      let parsedData = await data.json();\r\n      this.setState({\r\n        page: this.state.page + 1,\r\n        articles: parsedData.articles,\r\n        loading: false,\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container my-3\">\r\n        <h1\r\n          className=\"text-center\"\r\n          style={{ margin: \"35px 0px\", marginTop: \"90px\" }}\r\n        >\r\n          NewsMonkey - Top Headlines on{\" \"}\r\n          {this.capitalizeFirstLetter(this.props.category)} category\r\n        </h1>\r\n        {this.state.loading && <Spinner />}\r\n        <div className=\"row\">\r\n          {!this.state.loading &&\r\n            this.state.articles.map((element) => {\r\n              return (\r\n                <div className=\"col-md-4\" key={element.url}>\r\n                  <NewsItem\r\n                    title={element.title ? element.title : \"\"}\r\n                    description={element.description ? element.description : \"\"}\r\n                    imageUrl={element.urlToImage}\r\n                    newsUrl={element.url}\r\n                    author={element.author}\r\n                    date={element.publishedAt}\r\n                    source={element.source.name}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button\r\n            disabled={this.state.page <= 1}\r\n            type=\"button\"\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handlePrevClick}\r\n          >\r\n            {\" \"}\r\n            &larr; Previous\r\n          </button>\r\n          <button\r\n            disabled={\r\n              this.state.page + 1 >\r\n              Math.ceil(this.state.totalResults / this.props.pageSize)\r\n            }\r\n            type=\"button\"\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handleNextClick}\r\n          >\r\n            Next &rarr;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}